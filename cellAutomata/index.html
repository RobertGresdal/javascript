<head>
	<script type="text/javascript" src="scripts/ReadyCheck.js"></script>
	<script>
	var timer, game;
	document.addEventListener('DOMContentLoaded',function(){
			var check = new Readycheck();
			check.loadScript([
					'scripts/js-extensions.js',
					'scripts/vfield.js',
					'scripts/vfieldnode.js',
					//'scripts/topology.js',
					'scripts/topologyMaster.js',
			    'scripts/cell.js',
			    'scripts/Timer.js',
					'scripts/QuadTree.js',
			    'scripts/game.js',
					'scripts/selftest.js'
			], begin, 'scripts');

			function begin(){
				console.log('Initializing')
				timer = new Timer();
				game = new Game();

				document.querySelector("#run").addEventListener('click',function(e){game.toggleRun()});
				//document.querySelector("#prune").addEventListener('click',function(){game.topo.prune()});
				document.querySelector("#FPSGraph").addEventListener('change',function(){game.settings.showFPSGraph = this.checked;});
				document.querySelector("#showNodes").addEventListener('change',function(){game.settings.showNodes = this.checked;});

				//game.init();
				game.start();
			}
		}
	);
	</script>
	<script>
	(function(document,script,id){var js,r=document.getElementsByTagName(script)[0],protocol=/^http:/.test(document.location)?'http':'https';if(!document.getElementById(id)){js=document.createElement(script);js.id=id;js.src=protocol+'://widgets.changetip.com/public/js/widgets.js';r.parentNode.insertBefore(js,r)}}(document,'script','changetip_w_0'));
	</script>
	<style>
	html {
		background-color: #1b1b1c;
		color:white;
	}
	label {
		display:block;
	}
	#controls {
		position:absolute;
		right:10px;
		width:340px;
		border:1px solid white;
		padding:10px;
	}
	</style>
<head>

<div id="controls">
	<div style="position:absolute;right:0" id="changetip_tipme_button" data-bid="dF7qbeXaVRnhsihBayYBT4" data-uid="FitdLARFU3zQVWgg9cadXg"></div>
	<div class="options">
		<label><input type="checkbox" id="FPSGraph" disabled /> Show FPS Graph</label>
		<label><input type="checkbox" id="showNodes" disabled /> Show node quads</label>
	</div>
	<div>
		<input type="button" id="run" value="Run / Pause"/>
		<!--<input type="button" id="prune" value="Prune"/>-->
	</div>
</div>
<canvas id="canvas" width="400" height="300" />
