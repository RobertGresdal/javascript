<head>
	<script type="text/javascript" src="scripts/Readycheck.js"></script>
	<script>
	var timer, game;
	document.addEventListener('DOMContentLoaded',function(){
			var check = new Readycheck();
			check.loadScript([
					'scripts/js-extensions.js',
					'scripts/vfield.js',
					'scripts/topology.js',
					'scripts/topologyMaster.js',
			    'scripts/cell.js',
			    'scripts/Timer.js',
					'scripts/QuadTree.js',
			    'scripts/game.js'
			], begin, 'scripts');

			function begin(){
				console.log('Initializing')
				timer = new Timer();
				game = new Game();

				document.querySelector("#run").addEventListener('click',function(e){game.toggleRun()});
				//document.querySelector("#prune").addEventListener('click',function(){game.topo.prune()});
				document.querySelector("#FPSGraph").addEventListener('change',function(){game.settings.showFPSGraph = this.checked;});
				document.querySelector("#showNodes").addEventListener('change',function(){game.settings.showNodes = this.checked;});

				//game.init();
				game.start();
			}
		}
	);
	</script>
	<style>
	html {
		background-color: #1b1b1c;
		color:white;
	}
	label {
		display:block;
	}
	#controls {
		position:absolute;
		right:10px;
		width:340px;
		border:1px solid white;
		padding:10px;
	}
	</style>
<head>

<div id="controls">
	<div class="options">
		<label><input type="checkbox" id="FPSGraph" /> Show FPS Graph</label>
		<label><input type="checkbox" id="showNodes" /> Show node quads</label>
	</div>
	<div>
		<input type="button" id="run" value="Run / Pause"/>
		<!--<input type="button" id="prune" value="Prune"/>-->
	</div>
</div>
<canvas id="canvas" width="400" height="300" />
